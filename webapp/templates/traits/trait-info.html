{% extends 'base.html' %}

{% block header %}
  <h1>Summary of fire-related traits</h1>
{% endblock %}

{% block content %}
<h2>{{trait[0][2]}} / {{trait[0][3]}} traits</h2>

<h3>{{trait[0][0]}} &ndash; {{trait[0][1]}}</h3>
<p>

  <table>
      <tr><th>Value</th><th>Nr. of taxa</th><th>(with sp. code)</th><th>(valid BioNet taxa)</th><th>Sources (direct)</th><th>Sources (indirect)</th></tr>
  {% for pair in spps %}
      <tr>
        <td>{{pair[0]}}</td>
        <td>{{pair[1]}}</td>
        <td>{{pair[2]}}</td>
        <td>{{pair[3]}}</td>
        <td>{{pair[4]}}</td>
        <td>{{(refs| selectattr(var,"equalto",pair[0]) | map(attribute="count") | list)[0]}}</td>
      </tr>
        {% endfor %}
        </table>


</p>
  <table class='definitions'>
    <caption class='definitions'>Definitions</caption>
    <thead>
      <tr>
        <th>Value</th>
        <th>Description</th>
      </tr>
      </thead>
      <tbody>
        {% for pair in desc %}
            <tr>
              <td>{{pair[0]}}</td>
              <td>{{pair[1]}}</td>
            </tr>
              {% endfor %}
      </tbody>
  </table>


{% endblock %}
